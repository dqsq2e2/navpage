# NavPage - ç°ä»£å¯¼èˆªé¢æ¿

ä¸€ä¸ªç°ä»£åŒ–çš„æœåŠ¡å™¨åº”ç”¨å¯¼èˆªé¢æ¿ï¼Œé›†æˆæœåŠ¡ç®¡ç†ã€æ™ºèƒ½æœç´¢åŠŸèƒ½å’Œç»¼åˆç³»ç»Ÿç›‘æ§ã€‚é‡‡ç”¨æœªæ¥ç§‘æŠ€é£æ ¼è®¾è®¡ï¼Œå…·æœ‰å®æ—¶æ•°æ®å¯è§†åŒ–åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ”§ æœåŠ¡å¯¼èˆª
- æ·»åŠ å’Œç®¡ç†ç½‘ç»œåº”ç”¨æœåŠ¡å™¨åœ°å€
- æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡ã€æè¿°å’Œåˆ†ç±»
- å®æ—¶æœåŠ¡çŠ¶æ€ç›‘æ§
- å¡ç‰‡å¼æ˜¾ç¤ºå’Œåˆ†ç±»ç­›é€‰
- ç±»ä¼¼ [Homepage](https://github.com/gethomepage/homepage) çš„åŠŸèƒ½

### ğŸ” æ™ºèƒ½æœç´¢
- å¤šæœç´¢å¼•æ“æ”¯æŒï¼ˆç™¾åº¦ã€å¿…åº”ã€è‡ªå®šä¹‰å¼•æ“ï¼‰
- æœç´¢å»ºè®®å’Œå†å²è®°å½•
- ä¸€é”®æœç´¢å¼•æ“åˆ‡æ¢
- æ”¯æŒè‡ªå®šä¹‰æœç´¢URL
- ç›´æ¥æœç´¢ç»“æœå¯¼èˆª

### ğŸ“Š ç³»ç»Ÿç›‘æ§
- **CPUç›‘æ§**ï¼šä½¿ç”¨ç‡ã€æ ¸å¿ƒæ•°ã€å‹å·ã€å•æ ¸è´Ÿè½½
- **å†…å­˜ç›‘æ§**ï¼šä½¿ç”¨ç‡ã€ç¼“å­˜ã€äº¤æ¢åˆ†åŒºçŠ¶æ€
- **ç£ç›˜ç›‘æ§**ï¼šä½¿ç”¨ç‡ã€å®æ—¶è¯»å†™é€Ÿåº¦ã€IOPS
- **ç³»ç»Ÿä¿¡æ¯**ï¼šè¿è¡Œæ—¶é—´ã€å¹³å°ã€è´Ÿè½½å¹³å‡å€¼
- **ç½‘ç»œæµé‡**ï¼šå®æ—¶å‘é€/æ¥æ”¶ç»Ÿè®¡

### ğŸ” è®¤è¯ä¸å®‰å…¨
- åŸºäºå¯†é’¥çš„è®¤è¯ç³»ç»Ÿ
- ç®¡ç†å‘˜è§’è‰²ç®¡ç†
- å®‰å…¨APIè®¿é—®æ§åˆ¶
- ä¼šè¯ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- npm æˆ– yarn

### å®‰è£…
```bash
npm install
```

### å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå‰ç«¯+åç«¯ï¼‰
npm run dev

# æˆ–åˆ†åˆ«å¯åŠ¨
npm run client  # å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆç«¯å£3000ï¼‰
npm run server  # åç«¯æœåŠ¡å™¨ï¼ˆç«¯å£5000ï¼‰
```

### ç”Ÿäº§æ„å»º
```bash
npm run build
```

## ğŸ³ Docker éƒ¨ç½²

### æ–¹æ³•ä¸€ï¼šç›´æ¥æ‹‰å–é•œåƒï¼ˆæ¨èï¼‰

ä½¿ç”¨é¢„æ„å»ºçš„è¿œç¨‹é•œåƒï¼Œæ— éœ€æœ¬åœ°æ„å»ºï¼š

#### ä½¿ç”¨ Docker Compose
åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š
```yaml
services:
  navpage:
    image: crpi-36bectlts4f4dtww.cn-shenzhen.personal.cr.aliyuncs.com/navpage/navpage:latest
    container_name: navpage-app
    restart: unless-stopped
    ports:
      - "5833:5834"  # ä¸»åº”ç”¨ç«¯å£
    environment:
      - NODE_ENV=production
      - PORT=5834
    volumes:
      - navpage-data:/app/server/data
      - navpage-logs:/app/logs
      # ç³»ç»Ÿç›‘æ§éœ€è¦çš„æŒ‚è½½ç‚¹
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /:/rootfs:ro
      - /var/run/docker.sock:/var/run/docker.sock:ro
    privileged: true  # è·å–ç³»ç»Ÿä¿¡æ¯éœ€è¦ç‰¹æƒ
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5834/api/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    networks:
      - navpage-network

volumes:
  navpage-data:
    driver: local
  navpage-logs:
    driver: local

networks:
  navpage-network:
    driver: bridge
```

ç„¶åè¿è¡Œï¼š
```bash
docker-compose up -d
```

#### ç›´æ¥ä½¿ç”¨ Docker å‘½ä»¤
```bash
# æ‹‰å–å¹¶è¿è¡Œé¢„æ„å»ºé•œåƒ
docker run -d \
  --name navpage-app \
  --restart unless-stopped \
  -p 5833:5834 \
  -e NODE_ENV=production \
  -e PORT=5834 \
  -v navpage-data:/app/server/data \
  -v navpage-logs:/app/logs \
  -v /proc:/host/proc:ro \
  -v /sys:/host/sys:ro \
  -v /:/rootfs:ro \
  -v /var/run/docker.sock:/var/run/docker.sock:ro \
  --privileged \
  crpi-36bectlts4f4dtww.cn-shenzhen.personal.cr.aliyuncs.com/navpage/navpage:latest
```

### æ–¹æ³•äºŒï¼šæœ¬åœ°æ„å»º

#### ä½¿ç”¨ Docker Composeï¼ˆæœ¬åœ°æ„å»ºï¼‰
```bash
docker-compose up -d
```

#### æ‰‹åŠ¨ Docker è¿è¡Œ
```bash
# æ„å»ºé•œåƒ
docker build -t navpage .

# è¿è¡Œå¹¶å¯ç”¨ç³»ç»Ÿç›‘æ§åŠŸèƒ½
docker run -d \
  --name navpage-app \
  --restart unless-stopped \
  -p 5833:5834 \
  -e NODE_ENV=production \
  -e PORT=5834 \
  -v navpage-data:/app/server/data \
  -v /proc:/host/proc:ro \
  -v /sys:/host/sys:ro \
  -v /:/rootfs:ro \
  navpage
```

### ç¯å¢ƒå˜é‡
```bash
NODE_ENV=production        # ç¯å¢ƒæ¨¡å¼
PORT=5834                 # åç«¯ç«¯å£
HOST_MOUNT_POINT=/rootfs  # ç›‘æ§ç”¨ä¸»æœºæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹
```

### é•œåƒä¿¡æ¯
- **é•œåƒåœ°å€**ï¼š`crpi-36bectlts4f4dtww.cn-shenzhen.personal.cr.aliyuncs.com/navpage/navpage:latest`
- **é•œåƒå¤§å°**ï¼šçº¦ 150MBï¼ˆå‹ç¼©åï¼‰
- **æ¶æ„æ”¯æŒ**ï¼šlinux/amd64
- **æ›´æ–°é¢‘ç‡**ï¼šè·Ÿéšä¸»åˆ†æ”¯æ›´æ–°

### ç«¯å£è¯´æ˜
- **5833**ï¼šå¤–éƒ¨è®¿é—®ç«¯å£ï¼ˆå¯è‡ªå®šä¹‰ï¼‰
- **5834**ï¼šå®¹å™¨å†…åº”ç”¨ç«¯å£ï¼ˆå›ºå®šï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
navpage/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/         # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.tsx       # ç™»å½•ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx   # æœç´¢æ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ServiceGrid.tsx # æœåŠ¡ç½‘æ ¼ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SystemMonitor.tsx # ç³»ç»Ÿç›‘æ§ç»„ä»¶
â”‚   â”œâ”€â”€ contexts/           # React ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx           # åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ server/                # åç«¯æºç 
â”‚   â”œâ”€â”€ modules/           # æœåŠ¡å™¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ auth.js        # è®¤è¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ config.js      # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ system.js      # ç³»ç»Ÿç›‘æ§
â”‚   â”‚   â”œâ”€â”€ routes.js      # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ websocket.js   # WebSocket å¤„ç†
â”‚   â””â”€â”€ index.js           # Express æœåŠ¡å™¨
â”œâ”€â”€ public/                # é™æ€èµ„æº
â””â”€â”€ *.html                 # é™æ€é¡µé¢ï¼ˆè®¤è¯ã€è®¾ç½®ã€ç®¡ç†ï¼‰
```

## ğŸ¨ è®¾è®¡ç‰¹è‰²

### ç§‘æŠ€é£æ ¼ç•Œé¢
- æ·±è‰²ä¸»é¢˜å’Œç°ä»£ç¾å­¦
- ç»ç’ƒæ‹Ÿæ€æ•ˆæœ
- éœ“è™¹ç¯å…‰å’ŒåŠ¨ç”»
- å“åº”å¼è®¾è®¡
- ç°ä»£UIç»„ä»¶

### äº¤äº’ä½“éªŒ
- æµç•…çš„åŠ¨ç”»è¿‡æ¸¡
- å®æ—¶æ•°æ®æ›´æ–°
- æ‚¬åœæ•ˆæœå’ŒçŠ¶æ€æŒ‡ç¤ºå™¨
- ç§»åŠ¨ç«¯å‹å¥½è®¾è®¡

## ğŸ”§ é…ç½®è¯´æ˜

### æœç´¢å¼•æ“
é»˜è®¤æ”¯æŒçš„æœç´¢å¼•æ“ï¼š
- ç™¾åº¦ï¼š`https://www.baidu.com/s?wd={query}`
- å¿…åº”ï¼š`https://www.bing.com/search?q={query}`
- è‡ªå®šä¹‰ç¤ºä¾‹ï¼š`https://example.com/search?q={query}`

æ‚¨å¯ä»¥é€šè¿‡ç•Œé¢æ·»åŠ è‡ªå®šä¹‰æœç´¢å¼•æ“ï¼Œä½¿ç”¨ `{query}` ä½œä¸ºæŸ¥è¯¢å ä½ç¬¦ã€‚

### æœåŠ¡é…ç½®
æœåŠ¡ä¿¡æ¯å­˜å‚¨åœ¨æœåŠ¡å™¨æ•°æ®åº“ä¸­ï¼ŒåŒ…æ‹¬ï¼š
- æœåŠ¡åç§°å’ŒURL
- å›¾æ ‡å’Œæè¿°
- åˆ†ç±»å’Œä¸»é¢˜é¢œè‰²
- çŠ¶æ€ç›‘æ§

### ç³»ç»Ÿç›‘æ§
åç«¯ä½¿ç”¨ `systeminformation` åŒ…è·å–çœŸå®ç³»ç»Ÿæ•°æ®ï¼š
- è‡ªåŠ¨æ£€æµ‹æ“ä½œç³»ç»Ÿç±»å‹
- å®æ—¶ç³»ç»ŸæŒ‡æ ‡æ›´æ–°
- WebSocketè¿æ¥å®ç°å®æ—¶æ•°æ®æµ

## ğŸ“¡ API æ¥å£

### ç³»ç»ŸçŠ¶æ€
```
GET /api/system-stats
```
è¿”å›ç»¼åˆç³»ç»Ÿç›‘æ§æ•°æ®

### è¿›ç¨‹ä¿¡æ¯
```
GET /api/processes
```
è¿”å›CPUå ç”¨å‰10çš„è¿›ç¨‹

### å¥åº·æ£€æŸ¥
```
GET /api/health
```
è¿”å›æœåŠ¡å™¨çŠ¶æ€å’Œè¿è¡Œæ—¶é—´

### è®¤è¯
```
POST /api/auth/login
POST /api/auth/create-key
GET /api/auth/verify
POST /api/auth/logout
```

### é…ç½®ç®¡ç†
```
GET /api/config
POST /api/config
GET /api/config/export
POST /api/config/import
```

## ğŸ” å®‰å…¨è€ƒè™‘

- æœåŠ¡çŠ¶æ€æ£€æŸ¥ä½¿ç”¨ `no-cors` æ¨¡å¼é¿å…è·¨åŸŸé—®é¢˜
- æœç´¢å†å²ä»…æœ¬åœ°å­˜å‚¨
- åç«¯APIåŒ…å«é”™è¯¯å¤„ç†å’Œè¾“å…¥éªŒè¯
- æ”¯æŒHTTPSéƒ¨ç½²
- åŸºäºå¯†é’¥çš„è®¤è¯ç³»ç»Ÿ
- ç®¡ç†å‘˜è§’è‰²åˆ†ç¦»

## ğŸš€ éƒ¨ç½²è¯´æ˜

### éƒ¨ç½²æ–¹å¼é€‰æ‹©

#### æ–¹æ³•ä¸€ï¼šç›´æ¥æ‹‰å–é•œåƒï¼ˆæ¨èï¼‰
- âœ… **å¿«é€Ÿéƒ¨ç½²**ï¼šæ— éœ€æœ¬åœ°æ„å»ºï¼Œç›´æ¥æ‹‰å–é¢„æ„å»ºé•œåƒ
- âœ… **èŠ‚çœèµ„æº**ï¼šä¸å ç”¨æœ¬åœ°æ„å»ºæ—¶é—´å’Œå­˜å‚¨ç©ºé—´
- âœ… **ç‰ˆæœ¬ç¨³å®š**ï¼šä½¿ç”¨ç»è¿‡æµ‹è¯•çš„ç¨³å®šç‰ˆæœ¬
- âš ï¸ **ç½‘ç»œä¾èµ–**ï¼šéœ€è¦èƒ½å¤Ÿè®¿é—®é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡

#### æ–¹æ³•äºŒï¼šæœ¬åœ°æ„å»º
- âœ… **å®Œå…¨æ§åˆ¶**ï¼šå¯ä»¥ä¿®æ”¹æºç å¹¶æ„å»ºè‡ªå®šä¹‰ç‰ˆæœ¬
- âœ… **ç¦»çº¿éƒ¨ç½²**ï¼šä¸ä¾èµ–å¤–éƒ¨é•œåƒä»“åº“
- âš ï¸ **æ„å»ºæ—¶é—´**ï¼šéœ€è¦èŠ±è´¹æ—¶é—´è¿›è¡Œæœ¬åœ°æ„å»º
- âš ï¸ **èµ„æºå ç”¨**ï¼šéœ€è¦é¢å¤–çš„æ„å»ºç¯å¢ƒå’Œå­˜å‚¨ç©ºé—´

### Dockerä¸­çš„ç³»ç»Ÿç›‘æ§
è¦åœ¨Dockerå®¹å™¨ä¸­å¯ç”¨å®Œæ•´çš„ç³»ç»Ÿç›‘æ§ï¼š

1. **æŒ‚è½½ä¸»æœºæ–‡ä»¶ç³»ç»Ÿï¼ˆåªè¯»ï¼‰**ï¼š
   ```bash
   -v /proc:/host/proc:ro
   -v /sys:/host/sys:ro
   -v /:/rootfs:ro
   -v /var/run/docker.sock:/var/run/docker.sock:ro  # å¯é€‰ï¼šDockerå®¹å™¨ç›‘æ§
   ```

2. **è®¾ç½®ç¯å¢ƒå˜é‡**ï¼š
   ```bash
   -e HOST_MOUNT_POINT=/rootfs
   ```

3. **ç‰¹æƒæ¨¡å¼**ï¼š
   ```bash
   --privileged  # æˆ–è€…ä½¿ç”¨æ›´ç²¾ç»†çš„æƒé™æ§åˆ¶
   ```

4. **å®‰å…¨æ€§**ï¼šå§‹ç»ˆå¯¹ä¸»æœºç›®å½•ä½¿ç”¨åªè¯»æŒ‚è½½ï¼ˆ`:ro`ï¼‰

### æ”¯æŒçš„ç›‘æ§æŒ‡æ ‡
- âœ… CPUä½¿ç”¨ç‡å’Œæ ¸å¿ƒæ•°
- âœ… å†…å­˜ä½¿ç”¨ç‡ï¼ˆæ€»è®¡ã€å·²ç”¨ã€å¯ç”¨ã€ç¼“å­˜ï¼‰
- âœ… ç£ç›˜ä½¿ç”¨ç‡ï¼ˆæ€»è®¡ã€å·²ç”¨ã€å¯ç”¨ç©ºé—´ï¼‰
- âœ… ç£ç›˜I/Oé€Ÿåº¦ï¼ˆè¯»å†™é€Ÿåº¦ã€IOPSï¼‰
- âœ… ç½‘ç»œæµé‡ç»Ÿè®¡
- âœ… ç³»ç»Ÿè¿è¡Œæ—¶é—´å’Œè´Ÿè½½å¹³å‡å€¼

## ğŸ¤ è´¡çŒ®

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ‚¨çš„æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Homepage](https://github.com/gethomepage/homepage) - è®¾è®¡çµæ„Ÿ
- [é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºæ–‡ç« ](https://developer.aliyun.com/article/1629334) - ç³»ç»Ÿä¿¡æ¯æ”¶é›†å®ç°å‚è€ƒ
- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Express](https://expressjs.com/) - åç«¯æ¡†æ¶
- [Socket.IO](https://socket.io/) - å®æ—¶é€šä¿¡ 